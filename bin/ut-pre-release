#!/usr/bin/env node

var childProcess = require('child_process');

executeCommand('git checkout master', 'Will checkout master branch ...');
executeCommand('npm shrinkwrap', 'Will perform shrinkwrap ...');
executeCommand('git add npm-shrinkwrap.json', 'Will add the shrinkwrap file ...');
executeCommand('git commit -m "Add npm-shrinkwrap.json"', 'Will commit the shrinkwrap file ...');
executeCommand('git push', 'Will push all the local changes to the remote repo ...');


function executeCommand(cmd, logMessage){
    console.log(logMessage);
    try {
        var procStdout = childProcess.execSync(cmd);
        console.log(procStdout);
    } catch (ex) {
        // if here the command failed i.e. non zero exit code
        /* TODO: Implement me !!! */
        return false;
    }
    return true;
}

TODO:
- move executeCommand as shared library
- buffer usage
