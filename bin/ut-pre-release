#!/usr/bin/env node

var child_process = require('child_process');

child_process.exec("git checkout master", function(error, stdout, stderr){
    console.log(stdout, stderr);
});

child_process.exec('npm shrinkwrap', function(error, stdout, stderr){
    console.log('Generating shrinkwrap file');
    console.log(stdout, stderr);
});

child_process.exec("git add npm-shrinkwrap.json", function(error, stdout, stderr){
    console.log(stdout, stderr);
});

child_process.exec("git commit -m 'Add npm-shrinkwrap.json' " , function(error, stdout, stderr){
    console.log(stdout, stderr);
});

child_process.exec("git push" , function(error, stdout, stderr){
    console.log(stdout, stderr);
});
