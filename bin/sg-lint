#!/usr/bin/env node

var arguments = [];
arguments.push("-c " + __dirname + "/../eslint/.eslintrc");
arguments.push("--ignore-path " + __dirname + "/../eslint/.eslintignore");


// full command line execution
//eslint -c ../eslint/ -f checkstyle -o lint.xml .

if ( !(typeof process.env.BUILD_NUMBER == 'undefined') ){
    arguments.push("-f checkstyle");
    arguments.push("-o lint.xml");
}

// Starting the actual command execution

var childProcess = require('child_process');
childProcess.exec(
    __dirname + "/../node_modules/eslint/bin/eslint.js "  + arguments.join(" ") + " .",
    function (error, stdout, stderr) {
        console.log('stdout: ' + stdout);
        console.log('stderr: ' + stderr);
        if (error !== null) {
            console.log('exec error: ' + error);
        } else {
            console.log("fuck'n success");
        }
    }
);
