#!/usr/bin/env node

var args = [];
args.push('-c ');
args.push(__dirname + '/../eslint/.eslintrc');
args.push('--ignore-pattern');
args.push('**/test.js');
args.push('**/coverage/**');
args.push('.');

if (typeof process.env.BUILD_NUMBER !== 'undefined') {
    args.push('-f');
    args.push('checkstyle');
    args.push('-o');
    args.push('lint.xml');
}

var cli = require('eslint/lib/cli');
var exitCode = cli.execute(Array.prototype.concat(process.argv, args));

process.on('exit', function() {
    process.exit(exitCode);
});
